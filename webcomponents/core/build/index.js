export{trivetCSS as styles}from"@trvt/assets";import{styles as t,createFragment as e}from"@trvt/core";const s=t=>{const e=document.createElement("div");return e.innerText=t,e.innerHTML},n=(t,e,s={})=>{Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:{data:{...s},get detail(){return this.data}}})};const o=new class{constructor(){this._bus=document.createElement("div"),this.store={}}register(t,e){const s=t||"anonymous";this[s]?console.warn(`Can't register event '${s}' because it already exists.`):(n(this,s),this._bus.addEventListener(s,e))}remove(t,e){this[t]?this._bus.removeEventListener(t,e):console.warn(`Can't remove event '${t}' because it hasn't been registered.`)}fire(t,e={}){this[t]?(e=Object.assign(this[t].data,(t=>{const e={};for(const[n,o]of Object.entries(t)){const r=typeof t[n];/string|boolean|number/.test(r)?e[n]="string"===r?s(o):o:console.warn(`Trivet: Detail property '${n}' of type '${r}' is prohibited and has been removed`)}return e})(e)),this._bus.dispatchEvent(new CustomEvent(t,{detail:e}))):console.warn(`Can't fire event '${t}' because it hasn't been registered.`)}},r=(t,e)=>{(Array.isArray(t)?t:Object.keys(t).map((e=>t[e]))).forEach((t=>loadFont(t,e)))},a=(t,e)=>{window.customElements.get(t)||window.customElements.define(t,e)},i=t=>document.createRange().createContextualFragment(function(t,e){function s(){return(new DOMParser).parseFromString(t,"text/html").body||document.createElement("body")}function n(t){let e=t.querySelectorAll("script");for(let t of e)t.remove()}function o(t,e){let s=e.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(t)||!s.includes("javascript:")&&!s.includes("data:"))||(!!t.startsWith("on")||void 0)}function r(t){let e=t.attributes;for(let{name:s,value:n}of e)o(s,n)&&t.removeAttribute(s)}function a(t){let e=t.children;for(let t of e)r(t),a(t)}let i=s();return n(i),a(i),e?i.childNodes:i.innerHTML}(t,!1));const l=t=>{t.querySelectorAll("template[shadowroot]").forEach((t=>{const e=t.getAttribute("shadowroot"),s=t.parentNode.attachShadow({mode:e});s.appendChild(t.content),t.remove(),l(s)}))},c=t=>"object"==typeof t&&!!t.cssRules?t:(t=>{const e=new CSSStyleSheet;return e.replaceSync(t),e})(t);class d{constructor(t){const{element:e,styles:s,declarativeShadow:n=!1}=t;n||l(e),this.stylesList=new Set,this.host=e,this.styles=s}#t(t,e,s){e.forEach((t=>s.add(t))),((t,e)=>{const s=e.map((t=>c(t)));t.adoptedStyleSheets=s})(t,[...s])}get element(){return this.host}set element(t){this.host=t}get shadow(){return this.element.shadowRoot}get styles(){return this.stylesList}set styles(t){this.#t(this.shadow,t,this.stylesList)}}class h extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[...t],this.shadowRoot.appendChild(this.render())}render(){return e('\n\t\t\t<article>\n\t\t\t\t<slot name="heading"></slot>\n\t\t\t\t<slot name="intro"></slot>\n        \t\t<slot name="content"></slot>\n\t\t\t\t<slot name="footer"></slot>\n\t\t\t\t<slot></slot>\n\t\t\t</article>\n\t\t')}}export{h as ContentElementClass,d as ShadowStyles,i as createFragment,o as dataBus,a as defineElement,r as fontsLoader};
