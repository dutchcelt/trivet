import{styles as s,createFragment as e}from"@trvt/core";import t from"./styles-5038fe3d.css"assert{type:"css"};class o extends HTMLElement{#s;constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[...s,t],this.shadowRoot.appendChild(this.render()),this.pos={top:0,left:0,x:0,y:0},this.#s=new RegExp("mousedown|mousemove|mouseup","i")}render(){return e('<div class="scrollbox"><slot></slot></div>')}connectedCallback(){this.scrollbox=this.shadowRoot.querySelector(".scrollbox"),this.scrollbox.addEventListener("mousedown",this)}handleEvent(s){this.#s.test(s.type)&&this[s.type](s)}mousedown(s){this.scrollbox.style.cursor="grabbing",this.scrollbox.style.userSelect="none",this.scrollbox.style.setProperty("--if-snap","var(--FALSE)"),this.pos={left:this.scrollbox.scrollLeft,top:this.scrollbox.scrollTop,x:s.clientX,y:s.clientY},document.addEventListener("mousemove",this),document.addEventListener("mouseup",this)}mousemove(s){const e=s.clientX-this.pos.x,t=s.clientY-this.pos.y;this.scrollbox.scrollTop=this.pos.top-t,this.scrollbox.scrollLeft=this.pos.left-e}mouseup(s){document.removeEventListener("mousemove",this),document.removeEventListener("mouseup",this),this.scrollbox.style.cursor="grab",this.scrollbox.style.removeProperty("user-select"),this.scrollbox.style.setProperty("--if-snap","var(--TRUE)")}}customElements.define("trvt-drag-scroller",o);export{o as TrvtDragScroller};
