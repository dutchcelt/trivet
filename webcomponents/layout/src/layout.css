@layer componentlibrary {
	@layer props, selectors, modifiers;

	/* ############################################################### */
	/* Layout Slot Rules */

	@layer props {
		:host(trvt-layout) {
			--layout-width-min: 375px;
			--layout-width-max: 1280px;
			--layout-gap: var(--trvt-gap, 2rem);
			--padding-inline: var(--layout-gap, 2rem);
			--padding-block: var(--layout-gap, 2rem);

			--_A: 20ch;
			--_B: 33%;
			display: grid;
			grid-template-columns: repeat(
				auto-fill,
				clamp(var(--_A), var(--_B), 100%)
			);
		}
	}

	@layer modifiers {
		/* ############################################################### */
		/* Layout Slot Properties */
		.navigation {
			--padding-inline: 0;
			--padding-block: 0;
			--grid-column: 1 / -1;
		}

		.header {
			--padding-inline: 0;
			--padding-block: 0;
			--grid-column: 1 / -1;
		}

		.main {
			--padding-inline: 0;
			--padding-block: var(--trvt-spacing-content-block-l);
			--grid-column: 1 / -1;
		}

		.sidebar {
			--grid-column: 1 / -1;
		}

		.footer {
			--padding-inline: 0;
			--grid-column: 1 / -1;
		}

		/* ############################################################### */
		/* Layout Type Properties */
		/* Page */
		:host([data-trvt-type='page']),
		:host([data-trvt-type='overview']) {
			--template-comumns: 1fr 1fr 1fr;
			--template-rows: 1fr;
		}

		:host([data-trvt-type='page']) .main,
		:host([data-trvt-type='overview']).main {
			--grid-column: 1 / -2;
			--grid-row: 1;
		}

		:host([data-trvt-type='page']) .sidebar,
		:host([data-trvt-type='overview']) .sidebar {
			--grid-column: -2 / -1;
			--grid-row: 1;
		}

		@media not all and (min-width: 960px) {
			:host(trvt-layout[data-trvt-type]) {
				--template-comumns: 100%;
				--template-rows: auto;
			}
			:host([data-trvt-type]) .navigation,
			:host([data-trvt-type]) .header,
			:host([data-trvt-type]) .main,
			:host([data-trvt-type]) .sidebar,
			:host([data-trvt-type]) .footer {
				--grid-column: 1;
			}
		}

		/* Article */
		:host([data-trvt-type='article']) {
			--display: grid;
			--padding-inline: 0;
		}

		:host([type='article']) > article {
			--grid-column: 1;
		}

		:host([data-trvt-type='article']) .sidebar {
			--grid-column: 2;
		}
	}

	@layer selectors {
		:host {
			display: block;
			container: layout / inline-size;
		}
		.trvt-layout {
			box-sizing: border-box;
			display: var(--display, grid);
			grid-template-columns: var(--template-comumns, 1fr);
			grid-template-rows: var(--template-rows, auto);
			gap: var(--layout-gap);
			padding-block: calc(var(--padding-block) / 2) var(--padding-block);
			padding-inline: var(--padding-inline);
			width: min(var(--layout-width-max), 100%);
			margin-inline: auto;
		}
		@container layout (max-width: 960px) {
			.trvt-layout {
				padding-inline: 0;
				padding-block: calc(var(--padding-block) / 4)
					var(--padding-block);
			}
		}

		/* ############################################################### */
		/* Layout Slot Rules */
		*:where(.navigation, .header, .main, .sidebar, .footer) {
			grid-column: var(--grid-column);
		}

		/* *:where(.footer) {
			padding-block: var(--padding-block);
			padding-inline: var(--padding-inline);
		}

		.main {
			padding-block: var(--padding-block);
			padding-inline: var(--padding-inline);
		}

		.sidebar {
			padding-block: var(--layout-gap);
			padding-inline: var(--layout-gap);
		} */
	}
}
