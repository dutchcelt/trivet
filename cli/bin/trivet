#!/usr/bin/env node

'use strict';

const { Command } = require('commander');
const program = new Command();

const fs = require('fs');
const path = require('path');
const pkg = JSON.parse(
	fs.readFileSync(path.join(__dirname, '..', 'package.json'), 'utf8')
);

const cleanTokens = require(path.join(
	__dirname,
	'..',
	'lib',
	'cleanTokens.js'
));
const generateTokens = require(path.join(
	__dirname,
	'..',
	'lib',
	'generateTokens.js'
));

program
	.description('CLI to generate Trivet assets')
	.version(pkg.version)
	.usage('[command] [options]');

program
	.command('clean')
	.description('Remove generated tokens')
	.option('--buildPath [build]', 'todo')
	.action(cleanTokens);

program
	.command('tokens')
	.description('Generates tokens')
	.option('--layer [layer]', 'todo')
	.option('--buildPath [build]', 'todo')
	.option('--sourcePath [source]', 'todo')
	.option('--themePath [theme]', 'todo')
	.option('--scope [scope]', 'todo')
	.option('--filename [filename]', 'todo')
	.option('--watch [watch]', 'todo')
	.action(generateTokens);

program.parse();
